{"version":3,"sources":["components/img/avatar.jpg","components/img/post.jpg","components/Post/apiPost.js","components/auth/index.js","components/Post/PostCartd.js","components/Post/Posts.js","components/core/Home.js","components/User/Signup.js","components/User/Signin.js","components/core/Header.js","components/User/apiUser.js","components/User/DeleteUser.js","components/User/FollowButton.js","components/User/ProfileTabs.js","components/User/Profile.js","components/User/User.js","components/User/EditUser.js","components/auth/PrivateRouter.js","components/User/FindUserToFollow.js","components/Post/CreatePost.js","components/Post/DeletePost.js","components/Post/Comment.js","components/Post/SinglePost.js","components/Post/PostDetails.js","components/Post/EditPost.js","components/MainRouter.js","components/App.js","index.js"],"names":["module","exports","getPostById","id","a","fetch","process","response","json","data","getAllPosts","create","postObj","currentJWT","JSON","parse","localStorage","getItem","token","method","headers","Accept","Authorization","body","stringify","update","postId","remove","uploadPhoto","postFormData","getOwnerDetails","like","dislike","comment","signup","userObj","then","res","signin","signOut","next","window","removeItem","console","log","status","catch","e","authenticate","jwt","setItem","isAuthenticated","PostCard","renderImg","post","photoURL","_id","defaultPhoto","src","alt","title","className","onError","i","target","style","width","height","objectFit","renderBodyText","text","words","split","length","this","props","owner","createdAt","moment","calendar","ownerName","name","currentUser","user","ref","postRef","to","React","Component","Posts","state","posts","users","error","renderPosts","map","key","setState","Home","Signup","email","password","open","onInputChange","value","onClickSubmit","preventDefault","confirmPassword","display","onChange","type","onClick","Signin","redirectToReferer","loading","renderLoading","withRouter","cursor","history","push","fetchUserById","userId","listAllUsers","uploadAvatar","updateUser","follow","followId","unfollow","unfollowId","getFollowStatus","findUserToFollow","getAllPostsByUser","DeleteUser","deleteAccount","confirmDelete","confirm","FollowButton","isFollowing","following","onUnfollowClick","onFollowClick","ProfileTabs","renderFollowers","followers","borderRadius","border","img","defaultAvatar","renderFollowings","followings","renderPostTitle","Profile","reDirectToLogin","isFollowThisUser","callAPI","thisUserIsFollowedBy","fetchUserAndFollowStatus","thisUserId","match","params","thisUserProfile","loginUserId","loginUser","find","followStatus","postsByThisUser","thisUserFollowing","avatarURL","format","about","User","renderUsers","EditUser","avatar","reDirectToProfile","onUploadImg","files","userData","set","reader","FileReader","onload","document","querySelector","setAttribute","result","readAsDataURL","trim","errmsg","onSubmitImg","FormData","action","enctype","accept","PrivateRoute","component","rest","render","pathname","from","location","FindUserToFollow","message","clickFollow","CreatePost","reDirectToPostsList","postData","DeletePost","reDirectToHome","deletePost","Comment","handleChange","handleSubmit","addComment","commentObj","comments","updateComment","renderComments","postedBy","SinglePost","likeStatus","undefined","likes","redirectToHome","likeToggle","newLikeStatus","renderPost","tabindex","PostDetails","getOwner","role","EditPost","photo","Redirect","DefaultPhoto","updateObj","MainRouter","exact","path","App","ReactDOM"],"mappings":"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","file":"static/js/main.784926b8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.046e91f7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/post.33f2c941.jpg\";","export const getPostById = async id => {\r\n  const response = await fetch(`${process.env.REACT_APP_API_URL}/posts/${id}`);\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const getAllPosts = async () => {\r\n  const response = await fetch(`${process.env.REACT_APP_API_URL}/posts`);\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const getAllPostsFromUser = async () => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(`${process.env.REACT_APP_API_URL}/me/posts`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + currentJWT\r\n    }\r\n  });\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const create = async postObj => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(`${process.env.REACT_APP_API_URL}/me/post`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + currentJWT\r\n    },\r\n    body: JSON.stringify(postObj)\r\n  });\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const update = async (postId, postObj) => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  //console.log(postId, JSON.stringify(postObj));\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/me/posts/${postId}`,\r\n    {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + currentJWT\r\n      },\r\n      body: JSON.stringify(postObj)\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const remove = async postId => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/me/posts/${postId}`,\r\n    {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + currentJWT\r\n      }\r\n    }\r\n  );\r\n  const data = response.json();\r\n  return data;\r\n};\r\n\r\nexport const uploadPhoto = async (postFormData, postId) => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/me/posts/upload/${postId}`,\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + currentJWT\r\n      },\r\n      body: postFormData\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const getOwnerDetails = async postId => {\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/posts/${postId}/owner`\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const getAllPostsFromFollowedUsers = async me => {};\r\n\r\nexport const like = async postId => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/posts/${postId}/like`,\r\n    {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + currentJWT\r\n      }\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const dislike = async postId => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/posts/${postId}/dislike`,\r\n    {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + currentJWT\r\n      }\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const comment = async (postId, comment) => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/posts/${postId}/comment`,\r\n    {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + currentJWT\r\n      },\r\n      body: JSON.stringify({ comment })\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const uncomment = async (postId, comment) => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/posts/${postId}/uncomment`,\r\n    {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + currentJWT\r\n      },\r\n      body: JSON.stringify({ comment })\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n","export const signup = userObj => {\r\n  return fetch(`${process.env.REACT_APP_API_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(userObj)\r\n  }).then(res => {\r\n    return res.json();\r\n  });\r\n};\r\n\r\nexport const signin = userObj => {\r\n  return fetch(`${process.env.REACT_APP_API_URL}/login`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(userObj)\r\n  }).then(res => {\r\n    return res.json();\r\n  });\r\n};\r\n\r\nexport const signOut = next => {\r\n  if (window !== \"undefined\") {\r\n    var currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n    localStorage.removeItem(\"jwt\");\r\n  }\r\n  next();\r\n  return fetch(`${process.env.REACT_APP_API_URL}/logout`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + currentJWT\r\n    }\r\n  })\r\n    .then(response => {\r\n      console.log(\"sign out status\", response.status);\r\n      return response;\r\n    })\r\n    .catch(e => console.log(\"Signout error: \", e));\r\n};\r\n\r\nexport const authenticate = (jwt, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(jwt));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window === \"undefined\") return false;\r\n  if (localStorage.getItem(\"jwt\"))\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  else return false;\r\n};\r\n","import React from \"react\";\r\nimport defaultPhoto from \"../img/post.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/index\";\r\nimport moment from \"moment\";\r\n\r\nclass PostCard extends React.Component {\r\n  renderImg = post => {\r\n    const photoURL = post._id\r\n      ? `${process.env.REACT_APP_API_URL}/posts/photo/${post._id}`\r\n      : defaultPhoto;\r\n    return (\r\n      <img\r\n        src={photoURL}\r\n        alt={post.title}\r\n        className=\"card-img-top mt-3\"\r\n        onError={i => (i.target.src = `${defaultPhoto}`)}\r\n        style={{ width: \"100%\", height: \"25vh\", objectFit: \"cover\" }}\r\n      />\r\n    );\r\n  };\r\n\r\n  renderBodyText = text => {\r\n    const words = text.split(\" \");\r\n    if (words.length <= 4) return text;\r\n    else {\r\n      let res = \"\";\r\n      for (let i = 0; i < 4; i++) {\r\n        res += words[i];\r\n        res += \" \";\r\n      }\r\n      return res + \" ...\";\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { post } = this.props;\r\n    const { owner } = post;\r\n    const createdAt = moment(post.createdAt).calendar();\r\n\r\n    let ownerName = owner.name;\r\n    if (isAuthenticated()) {\r\n      const currentUser = isAuthenticated().user;\r\n      if (owner._id === currentUser._id) ownerName = \"You\";\r\n    }\r\n\r\n    return (\r\n      <div\r\n        ref={this.postRef}\r\n        className=\"card col-md-3 ml-5 mt-5\"\r\n        style={{ width: \"18rem\" }}\r\n      >\r\n        {this.renderImg(post)}\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title\">{post.title}</h5>\r\n          <p className=\"card-text\">{this.renderBodyText(post.body)}</p>\r\n          <br />\r\n          <p className=\"font-italic mark\">\r\n            Posted By <Link to={`/${owner._id}`}>{`${ownerName}`}</Link> on{\" \"}\r\n            {createdAt}\r\n          </p>\r\n          <Link\r\n            to={`/post/${post._id}`}\r\n            className=\"btn btn-raised btn-primary card-link\"\r\n          >\r\n            Read More\r\n          </Link>\r\n          {isAuthenticated() && isAuthenticated().user._id === owner._id ? (\r\n            <Link\r\n              to={`/post/${post._id}/edit`}\r\n              className=\"btn btn-raised btn-info card-link\"\r\n            >\r\n              Update\r\n            </Link>\r\n          ) : (\r\n            <div></div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostCard;\r\n","import React from \"react\";\r\nimport { getAllPosts } from \"./apiPost\";\r\nimport PostCard from \"./PostCartd\";\r\n\r\nclass Posts extends React.Component {\r\n  state = { posts: [], users: [], error: null };\r\n\r\n  async componentDidMount() {\r\n    const posts = await getAllPosts();\r\n    this.setState({ posts });\r\n  }\r\n\r\n  renderPosts = () => {\r\n    const { posts } = this.state;\r\n    return (\r\n      <div className=\"row\">\r\n        {posts.map(post => {\r\n          return <PostCard post={post} key={post._id} />;\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <h3 className=\"mt-5 mb-5 ml-4\">\r\n          {!this.state.posts.length ? (\r\n            <div className=\"ui active dimmer\">\r\n              <div className=\"ui huge text loader\">Fetching Posts ...</div>\r\n            </div>\r\n          ) : (\r\n            <div>Recent Posts</div>\r\n          )}\r\n        </h3>\r\n        {this.renderPosts()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Posts;\r\n","import React from \"react\";\r\nimport Posts from \"../Post/Posts\";\r\n\r\nclass Home extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"jumbotron\">\r\n          <h2>Home</h2>\r\n          Welcome to React Frontend\r\n        </div>\r\n        <Posts />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { signup } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Signup extends React.Component {\r\n  state = { name: \"\", email: \"\", password: \"\", error: \"\", open: false };\r\n\r\n  onInputChange = name => e => {\r\n    this.setState({ [name]: e.target.value });\r\n  };\r\n\r\n  onClickSubmit = e => {\r\n    e.preventDefault();\r\n    //send to back-end\r\n    const { name, email, password, confirmPassword } = this.state;\r\n    const userObj = { name, email, password, confirmPassword };\r\n    signup(userObj).then(data => {\r\n      if (data.error) this.setState({ error: data.error });\r\n      else\r\n        this.setState({\r\n          name: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          open: true,\r\n          error: \"\"\r\n        });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <h2 className=\"mt-5 mb-5\">Sign Up</h2>\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: this.state.error ? \"\" : \"none\" }}\r\n        >\r\n          {this.state.error}\r\n        </div>\r\n\r\n        <div\r\n          className=\"alert alert-info\"\r\n          style={{ display: this.state.open ? \"\" : \"none\" }}\r\n        >\r\n          A new account has been successfully created. Please{\" \"}\r\n          <Link to=\"/signin\">Sign in.</Link>\r\n        </div>\r\n\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Name</label>\r\n            <input\r\n              className=\"form-control\"\r\n              onChange={this.onInputChange(\"name\")}\r\n              value={this.state.name}\r\n            ></input>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Email</label>\r\n            <input\r\n              onChange={this.onInputChange(\"email\")}\r\n              className=\"form-control\"\r\n              value={this.state.email}\r\n            ></input>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Passowrd</label>\r\n            <input\r\n              type=\"password\"\r\n              onChange={this.onInputChange(\"password\")}\r\n              className=\"form-control\"\r\n              value={this.state.password}\r\n            ></input>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Confirm Password</label>\r\n            <input\r\n              type=\"password\"\r\n              onChange={this.onInputChange(\"confirmPassword\")}\r\n              className=\"form-control\"\r\n              value={this.state.confirmPassword}\r\n            ></input>\r\n          </div>\r\n\r\n          <button\r\n            onClick={this.onClickSubmit}\r\n            className=\"btn btn-raised btn-primary\"\r\n          >\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { authenticate, signin } from \"../auth\";\r\n\r\nclass Signin extends React.Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    redirectToReferer: false,\r\n    loading: false\r\n  };\r\n\r\n  onInputChange = name => e => {\r\n    this.setState({ [name]: e.target.value });\r\n  };\r\n\r\n  onClickSubmit = e => {\r\n    e.preventDefault();\r\n    this.setState({ loading: true });\r\n    //send to back-end\r\n    const { email, password } = this.state;\r\n    const userObj = { email, password };\r\n    signin(userObj).then(data => {\r\n      if (data.error) this.setState({ error: data.error, loading: false });\r\n      else {\r\n        authenticate(data, () => {\r\n          this.setState({ redirectToReferer: true });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  renderLoading = () => {\r\n    if (this.state.loading === true) {\r\n      return (\r\n        <div className=\"jumbotron text-center\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      );\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirectToReferer) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <h2 className=\"mt-5 mb-5\">Sign In</h2>\r\n\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: this.state.error ? \"\" : \"none\" }}\r\n        >\r\n          {this.state.error}\r\n        </div>\r\n\r\n        {this.renderLoading()}\r\n\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Email</label>\r\n            <input\r\n              onChange={this.onInputChange(\"email\")}\r\n              className=\"form-control\"\r\n              value={this.state.email}\r\n            ></input>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Passowrd</label>\r\n            <input\r\n              type=\"password\"\r\n              onChange={this.onInputChange(\"password\")}\r\n              className=\"form-control\"\r\n              value={this.state.password}\r\n            ></input>\r\n          </div>\r\n\r\n          <button\r\n            onClick={this.onClickSubmit}\r\n            className=\"btn btn-raised btn-primary\"\r\n          >\r\n            Sign In\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signin;\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signOut, isAuthenticated } from \"../auth\";\r\n\r\nconst Header = props => {\r\n  return (\r\n    <div>\r\n      <ul className=\"nav nav-tabs bg-primary\">\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link\" to=\"/\">\r\n            Home\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link\" to=\"/users\">\r\n            Users\r\n          </Link>\r\n        </li>\r\n\r\n        {isAuthenticated() && (\r\n          <>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/find\">\r\n                Find User\r\n              </Link>\r\n            </li>\r\n          </>\r\n        )}\r\n\r\n        {isAuthenticated() && (\r\n          <>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/new/post\">\r\n                Create Post\r\n              </Link>\r\n            </li>\r\n          </>\r\n        )}\r\n\r\n        {!isAuthenticated() && (\r\n          <>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/signup\">\r\n                Sign Up\r\n              </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"signin\">\r\n                Sign In\r\n              </Link>\r\n            </li>\r\n          </>\r\n        )}\r\n\r\n        {isAuthenticated() && (\r\n          <>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to={`/${isAuthenticated().user._id}`}>\r\n                {isAuthenticated().user.name}'s Profile\r\n              </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <span\r\n                style={{ cursor: \"pointer\" }}\r\n                className=\"nav-link\"\r\n                onClick={() => signOut(() => props.history.push(\"/\"))}\r\n              >\r\n                Sign Out\r\n              </span>\r\n            </li>\r\n          </>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Header);\r\n","export const fetchUserById = async userId => {\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/users/${userId}`\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const listAllUsers = async () => {\r\n  const response = await fetch(`${process.env.REACT_APP_API_URL}/users`);\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const remove = async () => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(`${process.env.REACT_APP_API_URL}/users/me`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + currentJWT\r\n    }\r\n  });\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const uploadAvatar = async user => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/users/me/avatar`,\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + currentJWT\r\n      },\r\n      body: user\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const updateUser = async user => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(`${process.env.REACT_APP_API_URL}/users/me`, {\r\n    method: \"PATCH\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + currentJWT\r\n    },\r\n    body: JSON.stringify(user)\r\n  });\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const follow = async followId => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/users/follow`,\r\n    {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + currentJWT\r\n      },\r\n      body: JSON.stringify({ followId })\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const unfollow = async unfollowId => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/users/unfollow`,\r\n    {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + currentJWT\r\n      },\r\n      body: JSON.stringify({ unfollowId })\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const getFollowStatus = async userId => {\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/users/${userId}/followStatus`\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const findUserToFollow = async () => {\r\n  const currentJWT = JSON.parse(localStorage.getItem(\"jwt\")).token;\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/users/findUserToFollow`,\r\n    {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + currentJWT\r\n      }\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const getAllPostsByUser = async userId => {\r\n  const response = await fetch(\r\n    `${process.env.REACT_APP_API_URL}/${userId}/posts`\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { remove } from \"./apiUser\";\r\nimport { signOut } from \"../auth\";\r\n\r\nclass DeleteUser extends React.Component {\r\n  deleteAccount = async () => {\r\n    await remove();\r\n    signOut(() => console.log(\"signout\"));\r\n    this.props.history.push(\"/\");\r\n  };\r\n\r\n  confirmDelete = () => {\r\n    let answer = window.confirm(\r\n      \"Are you sure you want to delete your account?\"\r\n    );\r\n    if (answer) this.deleteAccount();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <button\r\n          onClick={this.confirmDelete}\r\n          className=\"btn btn-raised btn-danger\"\r\n          to=\"/\"\r\n        >\r\n          Delete Profile\r\n        </button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(DeleteUser);\r\n","import React from \"react\";\r\nimport { follow, unfollow } from \"./apiUser\";\r\n\r\nclass FollowButton extends React.Component {\r\n  // followUser = () => {\r\n  //   this.props.onFollowClick(follow);\r\n  // };\r\n\r\n  // unfollowUser = () => {\r\n  //   this.props.onUnfollowClick(unfollow);\r\n  // };\r\n\r\n  render() {\r\n    const isFollowing = this.props.following;\r\n    return (\r\n      <div className=\"d-inline-block mt-5\">\r\n        {isFollowing ? (\r\n          <button\r\n            className=\"btn btn-warning btn-raised mt-3\"\r\n            onClick={() => this.props.onUnfollowClick(unfollow)}\r\n          >\r\n            Unfollow\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-success btn-raised mt-3 mr-3\"\r\n            onClick={() => this.props.onFollowClick(follow)}\r\n          >\r\n            Follow\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FollowButton;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport defaultAvatar from \"../img/avatar.jpg\";\r\nimport defaultPhoto from \"../img/post.jpg\";\r\n\r\nclass ProfileTabs extends React.Component {\r\n  renderFollowers = () => {\r\n    const { followers } = this.props;\r\n    return (\r\n      <div className=\"col-md-4\">\r\n        <h3 className=\"text-primary\">followers</h3>\r\n        <hr />\r\n        {followers.map(user => (\r\n          <div key={user._id}>\r\n            <Link to={`/${user._id}`}>\r\n              <img\r\n                style={{ borderRadius: \"50%\", border: \"1px solid grey\" }}\r\n                className=\"float left mr-2\"\r\n                height=\"50px\"\r\n                width=\"50px\"\r\n                src={`${process.env.REACT_APP_API_URL}/users/${user._id}/avatar`}\r\n                onError={img => (img.target.src = `${defaultAvatar}`)}\r\n                alt={user.name}\r\n              />\r\n              <div>\r\n                <p className=\"lead\">{user.name}</p>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderFollowings = () => {\r\n    const { followings } = this.props;\r\n    return (\r\n      <div className=\"col-md-4\">\r\n        <h3 className=\"text-primary\">followings</h3>\r\n        <hr />\r\n        {followings.map(user => (\r\n          <div key={user._id}>\r\n            <Link to={`/${user._id}`}>\r\n              <img\r\n                style={{ borderRadius: \"50%\", border: \"1px solid grey\" }}\r\n                className=\"float left-mr-2\"\r\n                height=\"50px\"\r\n                width=\"50px\"\r\n                src={`${process.env.REACT_APP_API_URL}/users/${user._id}/avatar`}\r\n                onError={img => (img.target.src = `${defaultAvatar}`)}\r\n                alt={user.name}\r\n              />\r\n              <div>\r\n                <p className=\"lead\">{user.name}</p>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderPostTitle = title => {\r\n    const words = title.split(\" \");\r\n    if (words.length <= 4) return title;\r\n    else {\r\n      let res = \"\";\r\n      for (let i = 0; i < 4; i++) {\r\n        res += words[i];\r\n        res += \" \";\r\n      }\r\n      return res + \" ...\";\r\n    }\r\n  };\r\n\r\n  renderPosts = () => {\r\n    const { posts } = this.props;\r\n    return (\r\n      <div className=\"col-md-4\">\r\n        <h3 className=\"text-primary\">Posts</h3>\r\n        <hr />\r\n        {posts.map(post => (\r\n          <div key={post._id}>\r\n            <Link to={`/post/${post._id}`}>\r\n              <img\r\n                style={{ borderRadius: \"50%\", border: \"1px solid grey\" }}\r\n                className=\"float left-mr-2\"\r\n                height=\"50px\"\r\n                width=\"50px\"\r\n                src={`${process.env.REACT_APP_API_URL}/posts/photo/${post._id}`}\r\n                onError={img => (img.target.src = `${defaultPhoto}`)}\r\n                alt={post.name}\r\n              />\r\n              <div>\r\n                <p className=\"lead\">{this.renderPostTitle(post.title)}</p>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"row\">\r\n          {this.renderFollowers()}\r\n          {this.renderFollowings()}\r\n          {this.renderPosts()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfileTabs;\r\n","import React from \"react\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport moment from \"moment\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { fetchUserById, getFollowStatus, getAllPostsByUser } from \"./apiUser\";\r\nimport defaultAvatar from \"../img/avatar.jpg\";\r\nimport DeleteUser from \"./DeleteUser\";\r\nimport FollowButton from \"./FollowButton\";\r\nimport ProfileTabs from \"./ProfileTabs\";\r\n\r\nclass Profile extends React.Component {\r\n  state = {\r\n    user: \"\",\r\n    reDirectToLogin: false,\r\n    isFollowThisUser: false,\r\n    followings: [],\r\n    followers: [],\r\n    posts: [],\r\n    error: \"\"\r\n  };\r\n\r\n  onFollowClick = async callAPI => {\r\n    const response = await callAPI(this.state.user._id);\r\n    //console.log(response);\r\n    if (response.error) return this.setState({ error: response.error });\r\n    this.setState({\r\n      followers: response.thisUserIsFollowedBy,\r\n      isFollowThisUser: true\r\n    });\r\n  };\r\n\r\n  onUnfollowClick = async callAPI => {\r\n    const response = await callAPI(this.state.user._id);\r\n    console.log(response);\r\n    if (response.error) return this.setState({ error: response.error });\r\n    else\r\n      this.setState({\r\n        followers: response.thisUserIsFollowedBy,\r\n        isFollowThisUser: false\r\n      });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.fetchUserAndFollowStatus();\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    // use when props is changed\r\n    fetchUserById(props.match.params.userId).then(data => {\r\n      if (data.error) this.setState({ reDirectToLogin: true });\r\n      else this.setState({ user: data });\r\n    });\r\n  }\r\n\r\n  fetchUserAndFollowStatus = async () => {\r\n    const thisUserId = this.props.match.params.userId;\r\n    const thisUserProfile = await fetchUserById(thisUserId);\r\n    if (thisUserProfile.error) return this.setState({ reDirectToLogin: true });\r\n\r\n    // Don't: const loginUser = isAuthenticated().user\r\n    // Since: This this data is fetched from localStorage, which  at that time do not have data about followings and follower\r\n    const loginUserId = isAuthenticated().user._id;\r\n    const loginUser = await fetchUserById(loginUserId);\r\n\r\n    const match = loginUser.followings.find(following => {\r\n      return following === thisUserId;\r\n    });\r\n\r\n    const followStatus = await getFollowStatus(thisUserId);\r\n\r\n    const postsByThisUser = await getAllPostsByUser(thisUserId);\r\n\r\n    if (match)\r\n      this.setState({\r\n        user: thisUserProfile,\r\n        isFollowThisUser: true,\r\n        followings: followStatus.thisUserFollowing,\r\n        followers: followStatus.thisUserIsFollowedBy,\r\n        posts: postsByThisUser\r\n      });\r\n    else\r\n      this.setState({\r\n        user: thisUserProfile,\r\n        isFollowThisUser: false,\r\n        followings: followStatus.thisUserFollowing,\r\n        followers: followStatus.thisUserIsFollowedBy,\r\n        posts: postsByThisUser\r\n      });\r\n  };\r\n\r\n  renderImg = () => {\r\n    const avatarURL = `${process.env.REACT_APP_API_URL}/users/${this.state.user._id}/avatar`;\r\n    return (\r\n      <img\r\n        src={avatarURL}\r\n        onError={img => (img.target.src = `${defaultAvatar}`)}\r\n        alt={this.state.user.name}\r\n        className=\"card-img-top col-md-6 mt-5 mb-5 img-thumbnail\"\r\n        alt={this.state.user.name}\r\n        style={{ width: \"auto\", height: \"25vw\", objectFit: \"cover\" }}\r\n      />\r\n    );\r\n  };\r\n\r\n  render() {\r\n    if (this.state.reDirectToLogin) return <Redirect to=\"/\" />;\r\n    console.log(this.state.user);\r\n\r\n    const { name, email } = this.state.user;\r\n    return (\r\n      <div className=\"container\">\r\n        {!this.state.user.name ? (\r\n          <div className=\"ui active dimmer\">\r\n            <div className=\"ui huge text loader\">Fetching User ...</div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"row\">\r\n            {this.renderImg()}\r\n            <div className=\"col-md-6 lead\">\r\n              <h2 className=\"mt-5 mb-5\">Profile</h2>\r\n              <p>\r\n                Hello <strong>{name}</strong>\r\n              </p>\r\n              <p>\r\n                Email: <strong>{email}</strong>\r\n              </p>\r\n              <div>\r\n                Joined at:\r\n                <span>\r\n                  <strong>\r\n                    {` ${moment(this.state.user.createdAt).format(\r\n                      \"MMM Do YYYY\"\r\n                    )}`}\r\n                  </strong>\r\n                </span>\r\n              </div>\r\n\r\n              {isAuthenticated() &&\r\n              isAuthenticated().user._id === this.state.user._id ? (\r\n                <div className=\"d-inline-block mt-4\">\r\n                  <Link\r\n                    className=\"btn btn-raised btn-success mr-5\"\r\n                    to={`/users/edit/${this.state.user._id}`}\r\n                  >\r\n                    Edit Profile\r\n                  </Link>\r\n\r\n                  <DeleteUser user={this.state.user} />\r\n                </div>\r\n              ) : (\r\n                <FollowButton\r\n                  following={this.state.isFollowThisUser}\r\n                  onFollowClick={this.onFollowClick}\r\n                  onUnfollowClick={this.onUnfollowClick}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <hr />\r\n                <p className=\"lead\">{this.state.user.about}</p>\r\n\r\n                <ProfileTabs\r\n                  followers={this.state.followers}\r\n                  followings={this.state.followings}\r\n                  posts={this.state.posts}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { listAllUsers } from \"./apiUser\";\r\nimport defaultAvatar from \"../img/avatar.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass User extends React.Component {\r\n  state = { users: [] };\r\n\r\n  componentDidMount() {\r\n    listAllUsers().then(data => {\r\n      if (data.error) console.log(data.error);\r\n      else this.setState({ users: data });\r\n    });\r\n  }\r\n\r\n  renderImg = user => {\r\n    const avatarURL = user._id\r\n      ? `${process.env.REACT_APP_API_URL}/users/${user._id}/avatar`\r\n      : defaultAvatar;\r\n    return (\r\n      <img\r\n        src={avatarURL}\r\n        alt={user.name}\r\n        className=\"card-img-top mt-3\"\r\n        alt={user.name}\r\n        onError={i => (i.target.src = `${defaultAvatar}`)}\r\n        style={{ width: \"100%\", height: \"25vh\", objectFit: \"cover\" }}\r\n      />\r\n    );\r\n  };\r\n\r\n  renderUsers = () => {\r\n    const { users } = this.state;\r\n    return (\r\n      <div className=\"row\">\r\n        {users.map((user, id) => (\r\n          <div\r\n            className=\"card col-md-3 ml-5 mt-5\"\r\n            style={{ width: \"18rem\" }}\r\n            key={id}\r\n          >\r\n            {this.renderImg(user)}\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">{user.name}</h5>\r\n              <p className=\"card-text\">{user.email}</p>\r\n              <Link to={`/${user._id}`} className=\"btn btn-raised btn-primary\">\r\n                View Profile\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <h2 className=\"mt-5 mb-5\">Users</h2>\r\n        {this.renderUsers()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport { fetchUserById, updateUser, uploadAvatar } from \"./apiUser\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport defaultAvatar from \"../img/avatar.jpg\";\r\n\r\nclass EditUser extends React.Component {\r\n  state = {\r\n    _id: \"\",\r\n    name: \"\",\r\n    about: \"\",\r\n    error: \"\",\r\n    avatar: \"\",\r\n    reDirectToProfile: false,\r\n    loading: false\r\n  };\r\n\r\n  renderLoading = () => {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"jumbotron text-center\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      );\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  renderImg = () => {\r\n    const avatarURL = `${process.env.REACT_APP_API_URL}/users/${this.state._id}/avatar`;\r\n    //const avatarURL = `data:image/png;base64,${this.state.avatar.data}`;\r\n    return (\r\n      <img\r\n        id=\"avatarImg\"\r\n        src={avatarURL}\r\n        onError={img => (img.target.src = `${defaultAvatar}`)}\r\n        alt={this.state.name}\r\n        style={{ height: \"200px\", width: \"auto\" }}\r\n        className=\"img-thumbnail\"\r\n      />\r\n    );\r\n  };\r\n\r\n  onUploadImg = e => {\r\n    const value = e.target.files[0];\r\n    this.userData.set(\"avatar\", value);\r\n\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = function(e) {\r\n      //console.log(e);\r\n      document.querySelector(\"#avatarImg\").setAttribute(\"src\", e.target.result);\r\n    };\r\n\r\n    reader.readAsDataURL(value);\r\n  };\r\n\r\n  onClickSubmit = async e => {\r\n    e.preventDefault();\r\n    this.setState({ loading: true });\r\n    const { name, about } = this.state;\r\n    if (name === \"\") {\r\n      return this.setState({\r\n        loading: false,\r\n        error: \"Your name must me provided!\"\r\n      });\r\n    }\r\n    this.setState({ error: \"\" });\r\n    const userObj = { name: name.trim(), about: about.trim() };\r\n    const data = await updateUser(userObj);\r\n    this.setState({ loading: false });\r\n    if (data.error) {\r\n      this.setState({ error: data.error.errmsg });\r\n    } else this.setState({ reDirectToProfile: true });\r\n  };\r\n\r\n  onInputChange = name => e => {\r\n    const value = e.target.value;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  onSubmitImg = async e => {\r\n    e.preventDefault();\r\n    this.setState({ loading: true });\r\n    const data = await uploadAvatar(this.userData);\r\n    this.setState({ loading: false });\r\n    if (data.error) this.setState({ error: data.error.errmsg });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const user = await fetchUserById(this.props.match.params.userId);\r\n    this.userData = new FormData();\r\n    if (user.error) this.setState({ error: user.error.errmsg });\r\n    else {\r\n      const { _id, name, email, about, avatar } = user;\r\n      this.setState({ _id, name, email, about, avatar });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // if (this.state.reDirect)\r\n    //   return <Link to={`/users/edit/${this.state._id}`}></Link>;\r\n    if (this.state.reDirectToProfile)\r\n      return <Redirect to={`/${this.state._id}`}></Redirect>;\r\n    return (\r\n      <div className=\"container\">\r\n        <h2 className=\"mt-5 mb-5\">Edit Your Profile</h2>\r\n\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: this.state.error ? \"\" : \"none\" }}\r\n        >\r\n          {this.state.error}\r\n        </div>\r\n\r\n        {this.renderLoading()}\r\n        {this.renderImg()}\r\n\r\n        <form action=\"/\" method=\"POST\" enctype=\"multipart/form-data\">\r\n          <input\r\n            id=\"imgInp\"\r\n            type=\"file\"\r\n            name=\"avatar\"\r\n            onChange={this.onUploadImg}\r\n            accept=\"image/x-png,image/jpg,image/jpeg\"\r\n          />\r\n          <div>\r\n            <button\r\n              onClick={this.onSubmitImg}\r\n              className=\"btn btn-raised btn-primary mt-2\"\r\n            >\r\n              Update Your Avatar\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Name</label>\r\n            <input\r\n              className=\"form-control\"\r\n              onChange={this.onInputChange(\"name\")}\r\n              value={this.state.name}\r\n            ></input>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">About</label>\r\n            <input\r\n              onChange={this.onInputChange(\"about\")}\r\n              className=\"form-control\"\r\n              value={this.state.about}\r\n            ></input>\r\n          </div>\r\n\r\n          <button\r\n            onClick={this.onClickSubmit}\r\n            className=\"btn btn-raised btn-primary\"\r\n          >\r\n            Update\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditUser;\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  // props means component that was passed down to this private route component\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      isAuthenticated() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{ pathname: \"/signin\", state: { from: props.location } }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { findUserToFollow } from \"./apiUser\";\r\nimport defaultAvatar from \"../img/avatar.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { follow } from \"./apiUser\";\r\n\r\nclass FindUserToFollow extends React.Component {\r\n  state = { users: [], message: \"\", following: false };\r\n\r\n  async componentDidMount() {\r\n    const data = await findUserToFollow();\r\n    if (data.error) console.log(data.error);\r\n    this.setState({ users: data });\r\n  }\r\n\r\n  renderImg = user => {\r\n    const avatarURL = user._id\r\n      ? `${process.env.REACT_APP_API_URL}/users/${user._id}/avatar`\r\n      : defaultAvatar;\r\n    return (\r\n      <img\r\n        src={avatarURL}\r\n        alt={user.name}\r\n        className=\"card-img-top mt-3\"\r\n        alt={user.name}\r\n        onError={i => (i.target.src = `${defaultAvatar}`)}\r\n        style={{ width: \"100%\", height: \"25vh\", objectFit: \"cover\" }}\r\n      />\r\n    );\r\n  };\r\n\r\n  clickFollow = async user => {\r\n    const res = await follow(user._id);\r\n    if (res.error) this.setState({ message: res.error });\r\n    else this.setState({ following: true, message: `Following ${user.name}` });\r\n  };\r\n\r\n  renderUsers = () => {\r\n    const { users } = this.state;\r\n    return (\r\n      <div className=\"row\">\r\n        {users.map((user, id) => (\r\n          <div\r\n            className=\"card col-md-3 ml-5 mt-5\"\r\n            style={{ width: \"18rem\" }}\r\n            key={id}\r\n          >\r\n            {this.renderImg(user)}\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">{user.name}</h5>\r\n              <p className=\"card-text\">{user.email}</p>\r\n              <Link to={`/${user._id}`} className=\"btn btn-raised btn-primary\">\r\n                View Profile\r\n              </Link>\r\n              <button\r\n                onClick={() => {\r\n                  this.clickFollow(user);\r\n                }}\r\n                className=\"btn btn-raised btn-info float-right\"\r\n              >\r\n                Follow\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <h2 className=\"mt-5 mb-5\">Follow More Users</h2>\r\n        <div>\r\n          {this.state.following && (\r\n            <div className=\"alert alert-success\">{this.state.message}</div>\r\n          )}\r\n        </div>\r\n        {this.renderUsers()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FindUserToFollow;\r\n","import React from \"react\";\r\nimport { create, uploadPhoto } from \"./apiPost\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth\";\r\n\r\nclass CreatePost extends React.Component {\r\n  state = {\r\n    post: null,\r\n    title: \"\",\r\n    body: \"\",\r\n    error: null,\r\n    message: null,\r\n    reDirectToPostsList: false,\r\n    loading: false,\r\n    user: null\r\n  };\r\n\r\n  // renderImg = () => {\r\n  //   return (\r\n  //     <img\r\n  //       id=\"postPhoto\"\r\n  //       src={`/`}\r\n  //       style={{ height: \"200px\", width: \"auto\" }}\r\n  //       className=\"img-thumbnail\"\r\n  //     />\r\n  //   );\r\n  // };\r\n\r\n  // onUploadPhoto = e => {\r\n  //   const value = e.target.files[0];\r\n  //   this.postData.set(\"photo\", value);\r\n  //   const reader = new FileReader();\r\n  //   reader.onload = e => {\r\n  //     document.querySelector(\"#postPhoto\").setAttribute(\"src\", e.target.result);\r\n  //   };\r\n  //   reader.readAsDataURL(value);\r\n  // };\r\n\r\n  // onSubmitPhoto = async e => {\r\n  //   e.preventDefault();\r\n  //   this.setState({ loading: true });\r\n  //   const data = await uploadPhoto(this.postData);\r\n  //   this.setState({ loading: false });\r\n  //   if (data.error) this.setState({ error: data.error });\r\n  // };\r\n\r\n  // uploadPhotoForm = () => {\r\n  //   return (\r\n  //     <form action=\"/\" method=\"POST\" enctype=\"multipart/form-data\">\r\n  //       <input\r\n  //         id=\"imgInp\"\r\n  //         type=\"file\"\r\n  //         name=\"photo\"\r\n  //         onChange={this.onUploadPhoto}\r\n  //         accept=\"image/x-png,image/jpg,image/jpeg\"\r\n  //       />\r\n  //       <div>\r\n  //         <button\r\n  //           onClick={this.onSubmitPhoto}\r\n  //           className=\"btn btn-raised btn-primary mt-2\"\r\n  //         >\r\n  //           Upload Photo\r\n  //         </button>\r\n  //       </div>\r\n  //     </form>\r\n  //   );\r\n  // };\r\n\r\n  renderLoading = () => {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"jumbotron text-center\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      );\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  onClickSubmit = async e => {\r\n    e.preventDefault();\r\n    this.setState({ loading: true });\r\n    const { title, body } = this.state;\r\n    const postObj = { title, body };\r\n    //console.log(postObj);\r\n    const data = await create(postObj);\r\n    this.setState({ post: data });\r\n    //console.log(data);\r\n    this.setState({ loading: false });\r\n    if (data.error) this.setState({ error: data.error });\r\n    else\r\n      this.setState({\r\n        title: \"\",\r\n        body: \"\",\r\n        reDirectToPostsList: true\r\n      });\r\n  };\r\n\r\n  onInputChange = name => e => {\r\n    this.setState({ [name]: e.target.value });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.postData = new FormData();\r\n    this.setState({ user: isAuthenticated().user });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.reDirectToPostsList) return <Redirect to={`/`}></Redirect>;\r\n    return (\r\n      <div className=\"container\">\r\n        <h2 className=\"mt-5 mb-5\">Create a new Post</h2>\r\n\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: this.state.error ? \"\" : \"none\" }}\r\n        >\r\n          {this.state.error}\r\n        </div>\r\n\r\n        {this.renderLoading()}\r\n\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Titlte</label>\r\n            <input\r\n              className=\"form-control\"\r\n              onChange={this.onInputChange(\"title\")}\r\n            ></input>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Body</label>\r\n            <input\r\n              onChange={this.onInputChange(\"body\")}\r\n              className=\"form-control\"\r\n            ></input>\r\n          </div>\r\n\r\n          <button\r\n            onClick={this.onClickSubmit}\r\n            className=\"btn btn-raised btn-primary\"\r\n          >\r\n            Create\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreatePost;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { remove } from \"./apiPost\";\r\nclass DeletePost extends React.Component {\r\n  state = { reDirectToHome: false };\r\n  deletePost = async () => {\r\n    await remove(this.props.post._id);\r\n    this.setState({ reDirectToHome: true });\r\n    //this.props.history.push(\"/\");\r\n  };\r\n  confirmDelete = () => {\r\n    let answer = window.confirm(\"Are you sure you want to delete this post?\");\r\n    if (answer) this.deletePost();\r\n  };\r\n  render() {\r\n    if (this.state.reDirectToHome) return <Redirect to=\"/\" />;\r\n    return (\r\n      <>\r\n        <button\r\n          onClick={this.confirmDelete}\r\n          className=\"btn btn-raised btn-danger card-link\"\r\n        >\r\n          Delete\r\n        </button>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default DeletePost;\r\n\r\n{\r\n  /*  */\r\n}\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { comment } from \"./apiPost\";\r\nimport defaultAvatar from \"../img/avatar.jpg\";\r\n\r\nclass Comment extends React.Component {\r\n  state = { value: \"\", error: \"\" };\r\n  handleChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { value } = this.state;\r\n    const length = value.length;\r\n    if (length > 150)\r\n      return this.setState({\r\n        error: \"Your comment should maximum 150 characters long!\"\r\n      });\r\n    this.setState({ error: \"\" });\r\n    document.querySelector(\"textarea\").value = \"\";\r\n    this.addComment(value);\r\n  };\r\n\r\n  addComment = async value => {\r\n    const postId = this.props.post._id;\r\n    const commentObj = {\r\n      text: value\r\n    };\r\n    const response = await comment(postId, commentObj);\r\n    //console.log(response);\r\n    const { comments } = response;\r\n    this.props.updateComment(comments);\r\n  };\r\n\r\n  renderComments = () => {\r\n    const { comments } = this.props;\r\n    return (\r\n      <div>\r\n        <h3 className=\"text-primary\">{comments.length} Comments</h3>\r\n        <hr />\r\n        {comments.map((comment, i) => {\r\n          const user = comment.postedBy;\r\n          return (\r\n            <div className=\"comment\">\r\n              <Link to={`/${user._id}`} className=\"avatar\">\r\n                <img\r\n                  src={`${process.env.REACT_APP_API_URL}/users/${user._id}/avatar`}\r\n                  onError={img => (img.target.src = `${defaultAvatar}`)}\r\n                  alt={user.name}\r\n                />\r\n              </Link>\r\n              <div className=\"content\">\r\n                <Link to={`/${user._id}`} className=\"author\">\r\n                  {user.name}\r\n                </Link>\r\n                <div className=\"metadata\">\r\n                  <span className=\"date\">\r\n                    {moment(comment.createdAt).calendar()}\r\n                  </span>\r\n                </div>\r\n                <div className=\"text\">{comment.text}</div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui comments\">\r\n        <h3 className=\"ui dividing header\">Comments</h3>\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: this.state.error ? \"\" : \"none\" }}\r\n        >\r\n          {this.state.error}\r\n        </div>\r\n        <div className=\"append-comment\"></div>\r\n        <form className=\"ui reply form\">\r\n          <div className=\"field\">\r\n            <textarea onChange={this.handleChange}></textarea>\r\n          </div>\r\n          <button\r\n            className=\"ui blue labeled submit icon button\"\r\n            onClick={this.handleSubmit}\r\n            type=\"submit\"\r\n          >\r\n            <i className=\"icon edit\"></i> Comment\r\n          </button>\r\n        </form>\r\n\r\n        <br />\r\n\r\n        {this.renderComments()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Comment;\r\n","import React from \"react\";\r\nimport defaultPhoto from \"../img/post.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/index\";\r\nimport moment from \"moment\";\r\nimport DeletePost from \"./DeletePost\";\r\nimport { like, dislike } from \"./apiPost\";\r\nimport Comment from \"./Comment\";\r\n\r\nclass SinglePost extends React.Component {\r\n  state = {\r\n    post: null,\r\n    likeStatus: undefined,\r\n    likes: 0,\r\n    redirectToHome: false,\r\n    comments: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const currentUser = isAuthenticated().user;\r\n    const { post } = this.props;\r\n    // check whether login User like this post or not\r\n    const match = post.likes.find(userId => {\r\n      return userId === currentUser._id;\r\n    });\r\n    if (match) {\r\n      this.setState({\r\n        post: this.props.post,\r\n        likes: this.props.post.likes.length,\r\n        comments: post.comments,\r\n        likeStatus: true\r\n      });\r\n    } else {\r\n      this.setState({\r\n        post: this.props.post,\r\n        likes: this.props.post.likes.length,\r\n        comments: post.comments,\r\n        likeStatus: false\r\n      });\r\n    }\r\n  }\r\n\r\n  updateComment = comments => {\r\n    this.setState({ comments });\r\n  };\r\n\r\n  renderImg = post => {\r\n    const photoURL = post._id\r\n      ? `${process.env.REACT_APP_API_URL}/posts/photo/${post._id}`\r\n      : defaultPhoto;\r\n    return (\r\n      <img\r\n        src={photoURL}\r\n        alt={post.title}\r\n        className=\"img-thumbnail mb-3 ui medium rounded image\"\r\n        onError={i => (i.target.src = `${defaultPhoto}`)}\r\n        style={{\r\n          height: \"500px\",\r\n          width: \"100%\",\r\n          objectFit: \"cover\"\r\n        }}\r\n      />\r\n    );\r\n  };\r\n\r\n  likeToggle = async () => {\r\n    const { likeStatus, post } = this.state;\r\n    const newLikeStatus = !likeStatus;\r\n    this.setState({ likeStatus: newLikeStatus });\r\n    if (newLikeStatus) {\r\n      // update database and rerender likes number\r\n      const response = await like(post._id);\r\n      //console.log(response);\r\n      this.setState({ likes: response.likes.length });\r\n    } else {\r\n      const response = await dislike(post._id);\r\n      //console.log(response);\r\n      this.setState({ likes: response.likes.length });\r\n    }\r\n  };\r\n\r\n  renderPost = () => {\r\n    const { post } = this.props;\r\n    const { owner } = this.props.post;\r\n    const { likes, likeStatus } = this.state;\r\n    //\r\n    const createdAt = moment(post.createdAt).calendar();\r\n    //\r\n    let ownerName = owner.name;\r\n\r\n    if (isAuthenticated()) {\r\n      const currentUser = isAuthenticated().user;\r\n      if (owner._id === currentUser._id) ownerName = \"You\";\r\n    }\r\n\r\n    return (\r\n      <div className=\"card-body\">\r\n        {this.renderImg(post)}\r\n\r\n        {likeStatus ? (\r\n          <div\r\n            onClick={this.likeToggle}\r\n            className=\"ui labeled button mb-3\"\r\n            tabindex=\"0\"\r\n          >\r\n            <div className=\"ui red button\">\r\n              <i className=\" heart icon\"></i> Like\r\n            </div>\r\n            <a className=\"ui basic left pointing red label\">{likes}</a>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            onClick={this.likeToggle}\r\n            className=\"ui labeled button mb-3\"\r\n            tabindex=\"0\"\r\n          >\r\n            <div className=\"ui button\">\r\n              <i className=\" heart icon\"></i> Like\r\n            </div>\r\n            <a className=\"ui basic left pointing label\">{likes}</a>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"card-text\">\r\n          <p className=\"card-text text-justify\">{post.body}</p>\r\n\r\n          {isAuthenticated() && isAuthenticated().user._id === owner._id ? (\r\n            <div>\r\n              <Link\r\n                to={`/post/${this.props.post._id}/edit`}\r\n                className=\"btn btn-raised btn-info card-link\"\r\n              >\r\n                Update\r\n              </Link>\r\n              <DeletePost post={this.props.post} />\r\n            </div>\r\n          ) : (\r\n            <div></div>\r\n          )}\r\n          <br />\r\n          <p className=\"font-italic mark\">\r\n            Posted By <Link to={`/${owner._id}`}>{`${ownerName}`}</Link> on{\" \"}\r\n            {createdAt}\r\n          </p>\r\n\r\n          <Link to={`/`} className=\"btn btn-raised btn-primary card-link\">\r\n            Back To Posts\r\n          </Link>\r\n\r\n          <br />\r\n          <Comment\r\n            post={this.state.post}\r\n            comments={this.state.comments}\r\n            updateComment={this.updateComment}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <h3 className=\"display-2 mt-5 mb-5 ml-3\">{this.props.post.title}</h3>\r\n        {!this.props.post.body ? (\r\n          <div className=\"jumbotron text-center\">\r\n            <h2>Loading...</h2>\r\n          </div>\r\n        ) : (\r\n          this.renderPost()\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SinglePost;\r\n","import React from \"react\";\r\nimport { getPostById, getOwnerDetails } from \"./apiPost\";\r\nimport SinglePost from \"./SinglePost\";\r\n\r\nclass PostDetails extends React.Component {\r\n  state = { post: null, owner: [], error: null };\r\n\r\n  getOwner = async postId => {\r\n    const data = await getOwnerDetails(postId);\r\n    if (data.error) return \"Unknown\";\r\n    return data;\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const postId = this.props.match.params.postId;\r\n    const post = await getPostById(postId);\r\n    if (post.error) return this.setState({ error: post.error });\r\n    this.setState({ post });\r\n  }\r\n\r\n  renderLoading = () => {\r\n    return (\r\n      <div className=\"text-center\">\r\n        <div className=\"spinner-border\" role=\"status\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { post } = this.state;\r\n    if (!post) {\r\n      return this.renderLoading();\r\n    }\r\n    return (\r\n      <div>\r\n        <SinglePost post={post} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostDetails;\r\n","import React from \"react\";\r\nimport { getPostById, update, uploadPhoto } from \"./apiPost\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport DefaultPhoto from \"../img/post.jpg\";\r\n\r\nclass EditPost extends React.Component {\r\n  state = {\r\n    _id: \"\",\r\n    title: \"\",\r\n    body: \"\",\r\n    error: null,\r\n    photo: null,\r\n    Redirect: false,\r\n    loading: false\r\n  };\r\n\r\n  onInputChange = name => e => {\r\n    const value = e.target.value;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  renderImg = () => {\r\n    const photoURL = `${process.env.REACT_APP_API_URL}/posts/photo/${this.state._id}`;\r\n    //const photoURL = `data:image/png;base64,${this.state.avatar.data}`;\r\n    return (\r\n      <img\r\n        id=\"photoImg\"\r\n        src={photoURL}\r\n        onError={img => (img.target.src = `${DefaultPhoto}`)}\r\n        alt={this.state.name}\r\n        style={{ height: \"200px\", width: \"auto\" }}\r\n        className=\"img-thumbnail\"\r\n      />\r\n    );\r\n  };\r\n\r\n  onUploadImg = e => {\r\n    const value = e.target.files[0];\r\n    this.postData.set(\"photo\", value);\r\n\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = function(e) {\r\n      //console.log(e);\r\n      document.querySelector(\"#photoImg\").setAttribute(\"src\", e.target.result);\r\n    };\r\n\r\n    reader.readAsDataURL(value);\r\n  };\r\n\r\n  onSubmitImg = async e => {\r\n    e.preventDefault();\r\n    this.setState({ loading: true });\r\n    const data = await uploadPhoto(this.postData, this.state._id);\r\n    this.setState({ loading: false });\r\n    if (data.error) this.setState({ error: data.error.errmsg });\r\n  };\r\n\r\n  onClickSubmit = async e => {\r\n    e.preventDefault();\r\n    this.setState({ loading: true });\r\n    const { _id, title, body } = this.state;\r\n    if (title === \"\" || body === \"\") {\r\n      return this.setState({\r\n        loading: false,\r\n        error: \"Title and Body must be provided!\"\r\n      });\r\n    }\r\n    const updateObj = { title: title.trim(), body: body.trim() };\r\n    //console.log(updateObj, _id);\r\n    const response = await update(_id, updateObj);\r\n    //console.log(response);\r\n    this.setState({ loading: false });\r\n    if (response.error) this.setState({ error: response.error });\r\n    else this.setState({ Redirect: true });\r\n  };\r\n\r\n  renderLoading = () => {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"jumbotron text-center\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      );\r\n    }\r\n    return <div></div>;\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const post = await getPostById(this.props.match.params.postId);\r\n    this.postData = new FormData();\r\n    if (post.error) return this.setState({ error: post.error.errmsg });\r\n    else {\r\n      const { _id, title, body } = post;\r\n      this.setState({ _id, title, body });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.Redirect) return <Redirect to={`/`} />;\r\n    return (\r\n      <div className=\"container\">\r\n        <h2 className=\"mt-5 mb-5\">Edit Your Post</h2>\r\n\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: this.state.error ? \"\" : \"none\" }}\r\n        >\r\n          {this.state.error}\r\n        </div>\r\n\r\n        {this.renderLoading()}\r\n        {this.renderImg()}\r\n\r\n        <form action=\"/\" method=\"POST\" enctype=\"multipart/form-data\">\r\n          <input\r\n            id=\"imgInp\"\r\n            type=\"file\"\r\n            name=\"avatar\"\r\n            onChange={this.onUploadImg}\r\n            accept=\"image/x-png,image/jpg,image/jpeg\"\r\n          />\r\n          <div>\r\n            <button\r\n              onClick={this.onSubmitImg}\r\n              className=\"btn btn-raised btn-primary mt-2\"\r\n            >\r\n              Upload Photo\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Titlte</label>\r\n            <input\r\n              className=\"form-control\"\r\n              onChange={this.onInputChange(\"title\")}\r\n              value={this.state.title}\r\n            ></input>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"text-muted\">Body</label>\r\n            <input\r\n              onChange={this.onInputChange(\"body\")}\r\n              className=\"form-control\"\r\n              value={this.state.body}\r\n            ></input>\r\n          </div>\r\n\r\n          <button\r\n            onClick={this.onClickSubmit}\r\n            className=\"btn btn-raised btn-primary\"\r\n          >\r\n            Update\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditPost;\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Home from \"./core/Home\";\r\nimport Signup from \"./User/Signup\";\r\nimport Signin from \"./User/Signin\";\r\nimport Header from \"./core/Header\";\r\nimport Profile from \"./User/Profile\";\r\nimport User from \"./User/User\";\r\nimport EditUser from \"./User/EditUser\";\r\nimport PrivateRoute from \"./auth/PrivateRouter\";\r\nimport FindUserToFollow from \"./User/FindUserToFollow\";\r\nimport CreatePost from \"./Post/CreatePost\";\r\nimport PostDetails from \"./Post/PostDetails\";\r\nimport EditPost from \"./Post/EditPost\";\r\nimport DeletePost from \"./Post/DeletePost\";\r\n\r\nconst MainRouter = () => {\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route exact path=\"/users\" component={User} />\r\n        <Route exact path=\"/signup\" component={Signup} />\r\n        <Route exact path=\"/signin\" component={Signin} />\r\n        <PrivateRoute exact path=\"/post/:postId\" component={PostDetails} />\r\n        <PrivateRoute exact path=\"/post/:postId/edit\" component={EditPost} />\r\n        <PrivateRoute\r\n          exact\r\n          path=\"/post/:postId/delete\"\r\n          component={DeletePost}\r\n        />\r\n        <PrivateRoute exact path=\"/new/post\" component={CreatePost} />\r\n        <PrivateRoute exact path=\"/find\" component={FindUserToFollow} />\r\n        <PrivateRoute exact path=\"/:userId\" component={Profile} />\r\n        <PrivateRoute exact path=\"/users/edit/:userId\" component={EditUser} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainRouter;\r\n","import React from \"react\";\r\nimport MainRouter from \"./MainRouter\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nclass App extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <MainRouter />\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}